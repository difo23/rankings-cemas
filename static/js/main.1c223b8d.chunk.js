(this["webpackJsonpranking-cemas"]=this["webpackJsonpranking-cemas"]||[]).push([[0],{12:function(e,c,t){"use strict";t.r(c);var n=t(1),a=t.n(n),r=t(6),o=t.n(r),s=t(2),i=t(3),l=t(0);function d(e){var c=e.estudiante,t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0];a[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("li",{className:"list-group-item list-group-item-action ".concat(r),children:[Object(l.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(l.jsx)("h5",{className:"mb-1",children:c.nombre_estudiante}),Object(l.jsx)("small",{children:c.numero_estudiante})]}),Object(l.jsxs)("p",{className:"mb-1",children:[" Asignaturas: ",c.asignaturas.map((function(e){return Object(l.jsxs)("small",{children:[e.codigo_asignatura," "]})}))]}),Object(l.jsxs)("p",{className:"mb-1",children:[" Modulos: ",c.modulos.map((function(e){return Object(l.jsxs)("small",{children:[e.codigo_asignatura," "]})}))]}),Object(l.jsxs)("p",{className:"mb-1",children:[" ","Promedio Academico : ".concat(c.idx_academico)," "]}),Object(l.jsxs)("p",{className:"mb-1",children:[" ","Promedio Tecnico : ".concat(c.idx_tecnico)," "]}),Object(l.jsxs)("p",{className:"mb-1",children:[" ","Promedio General : ".concat(c.idx_general)," "]})]})})}function u(e){var c=e.url;console.log("Lista Boletines URL: ",c);var t=function(e){var c=Object(n.useRef)(!0),t=Object(n.useState)({data:null,loading:!0,error:null}),a=Object(s.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){return function(){c.current=!1}}),[]),Object(n.useEffect)((function(){o({data:null,loading:!0,error:null}),fetch(e).then((function(e){return e.json()})).then((function(e){c.current&&o({loading:!1,error:null,data:e})})).catch((function(){o({data:null,loading:!1,error:"No se pudo cargar la info"})}))}),[e]),r}(c),a=t.data,r=t.loading,o=t.error;if(r&&c)return Object(l.jsx)("h1",{children:"Loading"});if(o)return console.log(o),Object(l.jsx)("h3",{children:o});console.log("Datos: ",a);var u=function(e){return e.sort((function(e,c){return e.idx_general<c.idx_general?1:e.idx_general>c.idx_general?-1:0}))}(a.data.filter((function(e){return e.asignaturas.length>2})).map((function(e){var c,t,n,a,r=(c=null===e||void 0===e?void 0:e.asignaturas,console.log("getIdxAcademico",c),c?93.9042:0),o=(t=null===e||void 0===e?void 0:e.modulos,console.log("getIdxTecnico",t),t?93.8842:0),s=(n=o,a=r,console.log("getIdxAcademica",n,a),n?99.4567*Math.random():a);return Object(i.a)(Object(i.a)({},e),{},{idx_academico:r,idx_tecnico:o,idx_general:s})})));return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"list-group",children:u.map((function(e){return Object(l.jsx)(d,{estudiante:e},e._id)}))})})}var j=function(e,c){var t="/boletin/".concat(e,":").concat(c,":");return"".concat("https://cemasapi.herokuapp.com").concat("/reportes").concat(encodeURI(t))},b=t(4);function m(e){var c=e.handleUrl,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=Object(n.useState)(e),t=Object(s.a)(c,2),a=t[0],r=t[1];return[a,function(e){var c=e.target;r(Object(i.a)(Object(i.a)({},a),{},Object(b.a)({},c.name,c.value)))},function(){r(e)}]}({curso:"",periodo:""}),a=Object(s.a)(t,3),r=a[0],o=a[1],d=a[2],u=r.curso,m=r.periodo;return Object(l.jsx)("div",{children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.info("Form Values: ",u,m);var t=j(u,m);console.info("URL: ",t),c(t),d()},children:Object(l.jsxs)("div",{className:"form-row ml-5",children:[Object(l.jsx)("div",{className:"col-5",children:Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Curso",name:"curso",value:u,onChange:o})}),Object(l.jsx)("div",{className:"col-5",children:Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Periodo",name:"periodo",value:m,onChange:o})}),Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)("button",{className:"btn btn-outline-success ",type:"submit",children:"Buscar"})})]})})})}var h=function(){var e=Object(n.useState)(null),c=Object(s.a)(e,2),t=c[0],a=c[1];return console.log(t),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"row mt-4",children:Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)("h1",{children:"Ranking:"}),Object(l.jsx)("hr",{})]})}),Object(l.jsx)("div",{className:"row mt-4",children:Object(l.jsx)("div",{className:"col",children:Object(l.jsx)(m,{handleUrl:function(e){a(e)}})})}),Object(l.jsx)("div",{className:"row mt-4",children:Object(l.jsxs)("div",{className:"col mt-4 ml-5 mr-5 mb-5",children:[Object(l.jsx)("h3",{children:"Lista de boletines:"}),Object(l.jsx)("hr",{}),t&&Object(l.jsx)(u,{url:t})]})})]})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(c){var t=c.getCLS,n=c.getFID,a=c.getFCP,r=c.getLCP,o=c.getTTFB;t(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),O()}},[[12,1,2]]]);
//# sourceMappingURL=main.1c223b8d.chunk.js.map